# 应用上架准备清单

## 📋 文档说明

本文档详细列出了将 PhotoTimeGrouper 应用上架到应用商店（Google Play、国内应用商店等）所需完成的所有准备工作。

**目标应用商店**：
- Google Play Store（国际）
- 华为应用市场（中国）
- 小米应用商店（中国）
- 其他主流应用商店

**文档版本**：1.0  
**最后更新**：2024年

---

## ⚠️ 重要提醒

### 当前状态评估

根据当前代码检查，应用存在以下**必须修改**的问题：

1. **包名问题**：当前使用 `com.example.phototimegrouper`
   - ❌ **不能使用** `com.example.*` 作为包名上架
   - ✅ **必须更改**为正式包名（如：`com.yourcompany.phototimegrouper`）

2. **应用名称**：当前可能只是占位符，需要确认

3. **功能完整性**：当前功能相对基础，建议至少完成 Phase 1 核心功能再上架

---

## 一、技术准备（必须完成）

### 1.1 包名和签名配置

#### 1.1.1 更改应用包名 ✅ 必须
- [ ] 将 `com.example.phototimegrouper` 更改为正式包名
  - 建议格式：`com.[你的公司/个人名].phototimegrouper`
  - 例如：`com.yourname.phototimegrouper`
- [ ] 更新 `build.gradle` 中的 `namespace`
- [ ] 更新所有 Kotlin 文件中的包名
- [ ] 更新 `AndroidManifest.xml` 中的 `package` 属性
- [ ] 清理并重新构建项目

**操作步骤**：
1. 在 Android Studio 中：右键包名 → Refactor → Rename
2. 或手动替换所有文件中的包名

**预计时间**：1-2 小时

---

#### 1.1.2 配置应用签名 ✅ 必须
- [ ] 创建密钥库（Keystore）文件
  ```bash
  keytool -genkey -v -keystore phototimegrouper.keystore -alias phototimegrouper -keyalg RSA -keysize 2048 -validity 10000
  ```
- [ ] 备份密钥库文件（非常重要！丢失无法找回）
- [ ] 创建 `keystore.properties` 文件（不要提交到 Git）
- [ ] 配置 `build.gradle` 读取签名配置
- [ ] 测试 Release 版本签名

**关键提醒**：
- ⚠️ **密钥库文件丢失 = 无法更新应用**
- ⚠️ **必须妥善保管密钥库文件和密码**

**预计时间**：1 小时

---

#### 1.1.3 版本号管理 ✅ 必须
- [ ] 确认 `versionCode` 和 `versionName`
  - 当前：`versionCode 1`, `versionName "1.0"`
  - 确认是否符合预期
- [ ] 建立版本号管理规则
  - `versionCode`：每次提交递增（1, 2, 3...）
  - `versionName`：用户可见版本（1.0.0, 1.0.1, 1.1.0...）

**预计时间**：0.5 小时

---

### 1.2 代码优化

#### 1.2.1 ProGuard/R8 配置 ✅ 建议
- [ ] 启用代码混淆（Release 版本）
  ```gradle
  buildTypes {
      release {
          minifyEnabled true
          proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
      }
  }
  ```
- [ ] 配置 `proguard-rules.pro` 保留必要类
  - Glide 相关类
  - 数据类（PhotoItem 等）
  - Parcelable 类
- [ ] 测试混淆后的应用功能

**预计时间**：2-3 小时

---

#### 1.2.2 移除调试代码 ✅ 必须
- [ ] 移除所有 `Log.d()`, `Log.v()` 等调试日志
- [ ] 移除测试代码和测试数据
- [ ] 检查并移除 `android:debuggable="true"`（Release 版本）
- [ ] 移除不必要的权限声明

**预计时间**：1 小时

---

#### 1.2.3 性能优化 ✅ 建议
- [ ] 检查内存泄漏（使用 LeakCanary）
- [ ] 优化图片加载性能
- [ ] 优化大量照片加载的性能
- [ ] 测试低端设备性能

**预计时间**：4-6 小时

---

### 1.3 权限说明完善 ✅ 必须

#### 1.3.1 权限使用说明
当前应用申请的权限：
- `READ_EXTERNAL_STORAGE`（Android 12 及以下）
- `READ_MEDIA_IMAGES`（Android 13+）
- `READ_MEDIA_VIDEO`（Android 13+）

**需要在隐私政策中详细说明**：
- [ ] 为什么需要这些权限
- [ ] 如何使用这些权限
- [ ] 是否会收集或上传数据
- [ ] 数据存储位置

**预计时间**：2 小时

---

## 二、应用商店资源准备

### 2.1 应用图标 ✅ 必须

#### 2.1.1 图标规格要求

**Google Play**：
- [ ] 应用图标：512x512 像素（PNG，32 位，无透明度）
- [ ] 功能图标：1024x500 像素（可选）

**国内应用商店**：
- [ ] 华为：512x512 像素
- [ ] 小米：512x512 像素
- [ ] OPPO：512x512 像素
- [ ] vivo：512x512 像素

**技术要求**：
- [ ] 高清、清晰
- [ ] 符合 Material Design 规范（Google Play）
- [ ] 在不同背景色下都清晰可见
- [ ] 包含圆形和方形版本

**预计时间**：2-4 小时（设计时间）

---

### 2.2 应用截图 ✅ 必须

#### 2.2.1 截图规格要求

**Google Play**：
- [ ] 至少 2 张，最多 8 张
- [ ] 尺寸：16:9 或 9:16 比例
- [ ] 最小尺寸：320px
- [ ] 最大尺寸：3840px（长边）
- [ ] 格式：PNG 或 JPG（24 位）

**国内应用商店**：
- [ ] 通常需要 3-5 张截图
- [ ] 华为：至少 3 张，最多 8 张
- [ ] 小米：至少 3 张，最多 8 张

**截图内容建议**：
- [ ] 主界面（照片分组视图）
- [ ] 详情页（照片查看）
- [ ] 不同查看模式（小图标、大图标、超大图标）
- [ ] 视频播放界面（如果已实现）
- [ ] 特色功能展示

**预计时间**：2-3 小时

---

### 2.3 应用描述 ✅ 必须

#### 2.3.1 应用标题
- [ ] 简短标题（通常 30-50 字符）
- [ ] 清晰描述应用功能
- [ ] 避免关键词堆砌

**示例**：
- ✅ "PhotoTimeGrouper - 智能照片管理"
- ❌ "PhotoTimeGrouper - 最好的照片管理应用，支持..."

---

#### 2.3.2 简短描述（80 字符以内）
- [ ] 一句话概括应用核心功能
- [ ] 吸引用户注意

**示例**：
"按日期智能分组照片，轻松管理您的相册"

---

#### 2.3.3 详细描述（4000 字符以内）
- [ ] 功能介绍
- [ ] 核心特性列表
- [ ] 使用场景
- [ ] 更新日志（后续版本）

**内容结构建议**：
```
📱 PhotoTimeGrouper - 智能照片管理应用

🎯 核心功能
• 自动按日期分组照片
• 多种查看模式（小图标、大图标、超大图标、详细信息）
• 流畅的照片浏览体验
• 支持照片和视频
• 视频自动播放预览

✨ 特色亮点
• 简洁美观的界面设计
• 快速加载，性能优化
• 支持大量照片管理
• Material Design 设计规范

📖 使用说明
1. 授予照片访问权限
2. 应用自动扫描并分组照片
3. 点击照片查看详情
4. 使用右上角菜单切换查看模式

💡 适用场景
• 快速浏览大量照片
• 按日期查找照片
• 照片管理整理

🔄 持续更新
我们会持续改进应用，添加更多实用功能。
```

**预计时间**：2-3 小时

---

### 2.4 其他素材 ✅ 建议

#### 2.4.1 宣传图片（可选）
- [ ] 横幅图片（1024x500，Google Play）
- [ ] 促销图片（可选）

#### 2.4.2 视频演示（可选但推荐）
- [ ] 应用演示视频（30 秒 - 2 分钟）
- [ ] 展示核心功能
- [ ] 上传到 YouTube 或其他平台

**预计时间**：4-8 小时（如果制作视频）

---

## 三、法律和合规要求

### 3.1 隐私政策 ✅ 必须（重要！）

#### 3.1.1 隐私政策内容要求

**必须包含的内容**：
- [ ] 应用收集的数据类型
- [ ] 数据收集目的
- [ ] 数据使用方式
- [ ] 数据存储位置
- [ ] 数据共享情况（如有）
- [ ] 用户权利（访问、删除数据等）
- [ ] 联系方式
- [ ] 政策更新时间

**当前应用隐私说明**：
- ✅ 仅读取本地照片和视频
- ✅ 不收集用户数据
- ✅ 不上传任何数据
- ✅ 数据仅存储在本地设备

**隐私政策模板要点**：
```
1. 数据收集
   - 本应用仅访问设备本地存储的照片和视频
   - 不收集任何个人身份信息
   - 不上传任何数据到服务器

2. 权限使用
   - READ_MEDIA_IMAGES / READ_MEDIA_VIDEO：用于读取和显示照片/视频
   - 仅在用户授权后使用

3. 数据存储
   - 所有数据存储在本地设备
   - 应用卸载后，数据不会保留

4. 第三方服务
   - 本应用不使用任何第三方分析服务
   - 不集成任何广告 SDK

5. 用户权利
   - 用户可以随时撤销权限
   - 用户可以随时卸载应用

6. 联系方式
   - [你的邮箱或联系方式]

7. 政策更新
   - 本政策最后更新时间：[日期]
```

#### 3.1.2 隐私政策发布
- [ ] 创建隐私政策网页（GitHub Pages、个人网站等）
- [ ] 或使用隐私政策生成工具
- [ ] 在应用中添加隐私政策链接（设置页面）
- [ ] 在应用商店提交时提供链接

**预计时间**：3-4 小时

---

### 3.2 用户协议（可选但建议）

- [ ] 创建用户协议
- [ ] 说明应用使用条款
- [ ] 免责声明

**预计时间**：2 小时

---

### 3.3 内容分级 ✅ 必须

**Google Play 内容分级**：
- [ ] 完成内容分级问卷
- [ ] 本应用应该属于：Everyone（所有人）

**国内应用商店**：
- [ ] 通常也需要内容分级
- [ ] 相册应用通常为"通用"或"全年龄"

**预计时间**：0.5 小时

---

## 四、测试要求

### 4.1 功能测试 ✅ 必须

#### 4.1.1 核心功能测试清单
- [ ] 应用启动和权限请求
- [ ] 照片加载和显示
- [ ] 日期分组功能
- [ ] 不同查看模式切换
- [ ] 照片详情查看
- [ ] 视频播放（如果已实现）
- [ ] 下拉刷新
- [ ] 错误处理（无照片、权限拒绝等）

**预计时间**：4-6 小时

---

#### 4.1.2 兼容性测试 ✅ 必须
- [ ] 不同 Android 版本测试
  - Android 7.0 (API 24) - 最低支持
  - Android 8.0, 9.0, 10, 11, 12, 13, 14
- [ ] 不同设备厂商测试
  - 小米、华为、OPPO、vivo、三星等
- [ ] 不同屏幕尺寸测试
  - 手机、平板（如果支持）

**预计时间**：8-12 小时（如果有多台设备）

---

#### 4.1.3 性能测试 ✅ 建议
- [ ] 大量照片测试（1000+ 张）
- [ ] 内存使用测试
- [ ] 启动速度测试
- [ ] 低端设备性能测试

**预计时间**：4-6 小时

---

#### 4.1.4 边界情况测试 ✅ 必须
- [ ] 无照片情况
- [ ] 权限拒绝情况
- [ ] 网络异常（如果涉及）
- [ ] 应用崩溃恢复

**预计时间**：2-3 小时

---

### 4.2 测试报告 ✅ 建议

- [ ] 编写测试报告
- [ ] 记录测试设备信息
- [ ] 记录发现的问题和解决方案

**预计时间**：2 小时

---

## 五、应用商店账号和资质

### 5.1 Google Play 开发者账号

#### 5.1.1 账号注册
- [ ] 注册 Google Play 开发者账号
  - 费用：一次性 $25 美元
  - 需要：Google 账号、支付方式
- [ ] 完成开发者资料
- [ ] 设置付款信息

**预计时间**：1-2 小时

---

### 5.2 国内应用商店开发者账号

#### 5.2.1 华为应用市场
- [ ] 注册华为开发者账号
- [ ] 完成企业/个人认证
- [ ] 上传相关资质（如需要）

#### 5.2.2 小米应用商店
- [ ] 注册小米开发者账号
- [ ] 完成认证

#### 5.2.3 其他应用商店
- [ ] OPPO 软件商店
- [ ] vivo 应用商店
- [ ] 应用宝（腾讯）

**预计时间**：每个平台 1-2 小时

---

## 六、应用提交

### 6.1 Google Play 提交清单

- [ ] 创建新应用
- [ ] 填写应用信息
  - [ ] 应用名称
  - [ ] 简短描述
  - [ ] 详细描述
  - [ ] 应用图标
  - [ ] 功能图标（可选）
  - [ ] 截图（至少 2 张）
- [ ] 上传 APK/AAB
- [ ] 设置内容分级
- [ ] 提供隐私政策链接
- [ ] 设置定价和分发（免费/付费）
- [ ] 选择发布国家/地区
- [ ] 提交审核

**预计时间**：2-3 小时

---

### 6.2 国内应用商店提交清单

基本类似，但可能有额外要求：
- [ ] 软件著作权证书（部分商店要求）
- [ ] ICP 备案（如果涉及网络服务）
- [ ] 其他资质文件

**预计时间**：每个平台 1-2 小时

---

## 七、后续维护

### 7.1 版本更新

- [ ] 建立版本更新流程
- [ ] 准备更新日志模板
- [ ] 制定更新计划

---

### 7.2 用户反馈

- [ ] 监控应用商店评论
- [ ] 及时回复用户问题
- [ ] 收集用户反馈改进应用

---

### 7.3 数据分析（可选）

- [ ] 集成 Google Play Console 数据分析
- [ ] 监控应用崩溃报告
- [ ] 分析用户行为数据

---

## 八、优先级总结

### 🔴 必须完成（上架前）

1. ✅ **更改包名**（`com.example.*` 不能上架）
2. ✅ **配置应用签名**
3. ✅ **准备应用图标**
4. ✅ **准备应用截图**
5. ✅ **编写应用描述**
6. ✅ **创建隐私政策**
7. ✅ **功能测试**
8. ✅ **注册开发者账号**

### 🟡 强烈建议完成

9. ✅ **代码混淆配置**
10. ✅ **性能优化**
11. ✅ **兼容性测试**
12. ✅ **移除调试代码**

### 🟢 可选完成

13. ⭕ **制作演示视频**
14. ⭕ **用户协议**
15. ⭕ **详细测试报告**

---

## 九、时间估算

### 最短时间（仅必须项）
- **技术准备**：4-6 小时
- **资源准备**：6-8 小时
- **法律合规**：3-4 小时
- **测试**：6-8 小时
- **账号注册和提交**：3-4 小时

**总计**：约 **22-30 小时**（3-4 个工作日）

### 推荐时间（包含建议项）
- **技术准备**：8-12 小时
- **资源准备**：8-10 小时
- **法律合规**：4-5 小时
- **测试**：14-20 小时
- **账号注册和提交**：4-5 小时

**总计**：约 **38-52 小时**（5-7 个工作日）

---

## 十、常见问题

### Q1: 使用 `com.example.*` 包名可以上架吗？
**A**: ❌ **不可以**。Google Play 和应用商店都会拒绝 `com.example.*` 包名的应用。

### Q2: 必须要有隐私政策吗？
**A**: ✅ **是的**。特别是申请了敏感权限（如存储权限）的应用，必须提供隐私政策。

### Q3: 需要软件著作权证书吗？
**A**: 国内部分应用商店（如华为）可能需要，建议提前准备。Google Play 通常不需要。

### Q4: 应用必须支持所有 Android 版本吗？
**A**: 不是，但建议支持尽可能多的版本。当前应用支持 Android 7.0+（API 24+），这是合理的。

### Q5: 测试需要多少台设备？
**A**: 至少 2-3 台不同 Android 版本的设备。如果条件有限，可以使用模拟器补充测试。

---

## 十一、检查清单总结

使用此清单确保所有准备工作完成：

### 技术准备
- [ ] 包名已更改（不是 `com.example.*`）
- [ ] 应用签名已配置
- [ ] 版本号已确认
- [ ] 代码混淆已配置（建议）
- [ ] 调试代码已移除
- [ ] 性能已优化（建议）

### 资源准备
- [ ] 应用图标已准备（512x512）
- [ ] 应用截图已准备（至少 2-3 张）
- [ ] 应用描述已编写
- [ ] 演示视频已制作（可选）

### 法律合规
- [ ] 隐私政策已创建并发布
- [ ] 隐私政策链接可在应用中访问
- [ ] 用户协议已创建（可选）

### 测试
- [ ] 功能测试已完成
- [ ] 兼容性测试已完成
- [ ] 性能测试已完成（建议）
- [ ] 边界情况测试已完成

### 账号和提交
- [ ] 开发者账号已注册
- [ ] 应用信息已填写完整
- [ ] APK/AAB 已上传
- [ ] 内容分级已完成
- [ ] 已提交审核

---

**文档版本**：1.0  
**最后更新**：2024年  
**维护者**：开发团队

**祝上架顺利！** 🎉
