# 获取详细错误信息

当测试运行失败但报告显示 "0 tests" 时，需要查看详细的错误信息来诊断问题。

## 方法 1: 查看 Android Studio Build 面板（推荐）

1. **打开 Build 面板**
   - 在 Android Studio 底部点击 `Build` 标签
   - 如果看不到，可以：`View → Tool Windows → Build`

2. **查看最近的构建日志**
   - 查找红色的错误信息
   - 展开错误信息查看详细堆栈跟踪
   - 查找包含 "Exception" 或 "Error" 的行

3. **关键信息**
   - 查找 `Caused by:` 部分
   - 查找异常类型（如 `ClassNotFoundException`, `RuntimeException` 等）
   - 查找具体的错误消息

## 方法 2: 使用命令行获取详细堆栈

在 Android Studio 的 Terminal 中运行：

```bash
gradlew.bat connectedDebugAndroidTest --stacktrace
```

或者获取更详细的信息：

```bash
gradlew.bat connectedDebugAndroidTest --info
```

这些命令会输出详细的错误堆栈，帮助你找到问题的根本原因。

## 方法 3: 查看 Run 面板的输出

如果是在 Android Studio 中点击运行按钮执行的测试：

1. **打开 Run 面板**
   - 在 Android Studio 底部点击 `Run` 标签
   - 如果看不到，可以：`View → Tool Windows → Run`

2. **查看测试输出**
   - 查找红色的错误信息
   - 查看完整的错误消息和堆栈跟踪

## 常见错误类型

### 1. ClassNotFoundException
- **原因**：测试类或依赖类找不到
- **解决**：检查类名、包名是否正确

### 2. NoClassDefFoundError
- **原因**：类定义时找不到依赖类
- **解决**：检查依赖是否正确添加

### 3. Instrumentation run failed
- **原因**：测试运行器启动失败
- **解决**：检查设备连接、权限等

### 4. Test timeout
- **原因**：测试超时
- **解决**：增加超时时间或优化测试

### 5. Permission denied
- **原因**：缺少必要权限
- **解决**：检查 AndroidManifest.xml 和运行时权限

## 下一步

获取到详细错误信息后，请：
1. 复制完整的错误消息
2. 包括堆栈跟踪（stack trace）
3. 查找关键的异常类型和消息
4. 根据错误类型查找解决方案
